
<div class="wrapper">

<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <app-doctor-side-bar></app-doctor-side-bar>
        <!-- Layout container -->
        <div class="layout-page">
            <app-doctor-header></app-doctor-header>
            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Content -->

                <div class="container-xxl flex-grow-1 container-p-y">
                    <br>
                    <h1 style="text-align: center;"><b style="font-size: larger;">Result Page</b></h1>
                    
                    <br>
                    <div class="card mb-4">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Patient name</th>
                                    <th>Description</th>
                                    <th>Level</th>
                                    <th>Test Date</th>
                                    <th>Period</th>
                                    <th>Test result</th>
                                    <th>Number of tests</th>
                                    <th>Action</th>


                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of doctorservice.ResultByDocid" >
                                    <td>{{item.firstname}} {{item.lastname}}</td>
                                    <td>{{item.description}}</td>
                                    <td>{{item.level1}}</td>
                                    <td>{{item.datetest}}</td>
                                    <td>{{item.perioddate}}</td>
                                    <td>{{item.resulttest}}</td>
                                    <td>{{item.numberoftest}}</td>
                                    <td>

                                         <input  type="button" value="Update" class="btn btn-info" (click)="openUpdateDialog(item.resulttestid)"  >
                                         <input  type="button" value="Answers" class="btn btn-success" style="margin-left:3%;" (click)="result(item.numberoftest,item.patientid)"  >

                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.card-body -->
                </div>
            </div>
        </div>
    </div>
</div>
<app-doctor-footer></app-doctor-footer>
</div>
 



<ng-template #UpdateForm>

    <div mat-dialog-content>
        <form [formGroup]="UpdateResultTestForm" class="example-form">            

            <div>
                <mat-form-field class="example-full-width">
                    <mat-label>Description</mat-label>
                    <input type="text" matInput formControlName="description">
                    <!-- <mat-error *ngIf="CreateQuestionsForm.controls['quastion'].hasError('required')">
                        Question is <strong>required</strong>
                    </mat-error> -->
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <mat-label>Period Date</mat-label>
                    <input type="text" matInput formControlName="perioddate">
                    <!-- <mat-error *ngIf="CreateQuestionsForm.controls['categoryid'].hasError('required')">
                        Category is <strong>required</strong>
                    </mat-error> -->
                </mat-form-field>
            </div>

            <div mat-dialog-actions >
                <input style="margin-right: 5px;" type="button" [disabled]="UpdateResultTestForm.invalid" value="Update" (click)="Update()" class="btn btn-dark" mat-dialog-close>
                <input type="button" mat-dialog-close  value="Cancel" class="btn btn-dark"> 
            </div>
        </form>
    </div>
</ng-template>

